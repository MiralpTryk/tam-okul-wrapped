<template>
  <button
    @click="toggleSidebar"
    data-drawer-target="default-sidebar"
    data-drawer-toggle="default-sidebar"
    aria-controls="default-sidebar"
    type="button"
    class="fixed top-2 z-50 inline-flex items-center p-2 mt-2 ms-3 text-sm text-violet-900 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-slate-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
  >
    <span class="sr-only">Open sidebar</span>
    <svg
      class="w-6 h-6"
      aria-hidden="true"
      fill="currentColor"
      viewBox="0 0 20 20"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        clip-rule="evenodd"
        fill-rule="evenodd"
        d="M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"
      ></path>
    </svg>
  </button>
  <aside
    id="default-sidebar"
    :class="{
      '-translate-x-full': !isSidebarOpen,
      'translate-x-0': isSidebarOpen,
    }"
    class="fixed top-0 left-0 w-60 h-full transition-transform sm:translate-x-0 z-50 lg:z-0"
    aria-label="Sidebar"
  >
    <div
      class="h-full px-3 py-28 overflow-y-auto bg-slate-300 dark:bg-slate-900 border-r border-violet-900 dark:border-slate-700"
    >
      <button
        @click="toggleSidebar"
        class="absolute top-4 right-4 p-2 text-gray-500 rounded-lg sm:hidden hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-200 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600"
      >
        <span class="sr-only">Close sidebar</span>
        <svg
          class="w-6 h-6"
          aria-hidden="true"
          fill="currentColor"
          viewBox="0 0 20 20"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            clip-rule="evenodd"
            fill-rule="evenodd"
            d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z"
          ></path>
        </svg>
      </button>
      <div class="absolute top-10 left-1/2 -translate-x-1/2">
        <img
          v-if="isDarkMode"
        src="@/assets/tam-okul-logo-dark.webp"
        alt="logo"
        class="w-[120px] h-[32px]"
      />
      <svg
        v-else
        width="120"
        height="38"
        viewBox="0 0 120 38"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_5708_1735)">
          <path
            d="M112.775 0.291016H6.75057C3.18629 0.291016 0.296875 3.16156 0.296875 6.70256V31.5354C0.296875 35.0764 3.18629 37.947 6.75057 37.947H112.775C116.339 37.947 119.229 35.0764 119.229 31.5354V6.70256C119.229 3.16156 116.339 0.291016 112.775 0.291016Z"
            fill="#3D2770"
          />
          <mask
            id="mask0_5708_1735"
            style="mask-type: luminance"
            maskUnits="userSpaceOnUse"
            x="0"
            y="0"
            width="120"
            height="38"
          >
            <path
              d="M112.767 0.291016H6.74276C3.17848 0.291016 0.289062 3.16156 0.289062 6.70256V31.5354C0.289062 35.0764 3.17848 37.947 6.74276 37.947H112.767C116.331 37.947 119.221 35.0764 119.221 31.5354V6.70256C119.221 3.16156 116.331 0.291016 112.767 0.291016Z"
              fill="white"
            />
          </mask>
          <g mask="url(#mask0_5708_1735)">
            <path
              fill-rule="evenodd"
              clip-rule="evenodd"
              d="M120.072 7.15577L120.115 -6.51367L99.2259 13.189L87.1847 13.0803L82.1303 18.9859L61.5508 39.4357L67.0716 43.729L121.938 40.4712L120.072 7.15577Z"
              fill="url(#paint0_linear_5708_1735)"
            />
            <path
              d="M56.8623 31.8219C56.3864 31.8219 55.9961 31.5334 55.9961 31.1741V6.97004C55.9961 6.61069 56.3816 6.32227 56.8623 6.32227C57.343 6.32227 57.7285 6.61069 57.7285 6.97004V31.1788C57.7285 31.5382 57.343 31.8266 56.8623 31.8266V31.8219Z"
              fill="#E8A834"
            />
            <path
              d="M10.9236 22.974V14.8224H9.25781V13.1912H10.9236V10.0469H12.9225V13.1912H15.3736V14.8224H12.9225V22.5957C12.9225 23.3522 13.3033 23.8251 14.2313 23.8251C14.5169 23.8251 14.8977 23.7778 15.3498 23.6123V25.1963C14.9215 25.5272 14.2551 25.6218 13.684 25.6218C12.042 25.6218 10.9236 24.818 10.9236 22.974Z"
              fill="white"
            />
            <path
              d="M16.9844 19.3394C16.9844 15.1312 20.0542 12.9609 23.0478 12.9609C25.3561 12.9609 27.0933 14.2139 27.6882 15.5142H27.7596V13.1974H29.7585V25.4861H27.7596V23.1693H27.6882C27.0933 24.4696 25.3561 25.7226 23.0478 25.7226C20.0494 25.7226 16.9844 23.5475 16.9844 19.3441V19.3394ZM23.381 23.9022C25.6179 23.9022 27.831 22.3655 27.831 19.3394C27.831 16.3133 25.6179 14.7766 23.381 14.7766C21.1441 14.7766 18.9785 16.2896 18.9785 19.3394C18.9785 22.3891 21.1917 23.9022 23.381 23.9022Z"
              fill="white"
            />
            <path
              d="M40.7525 18.3926C40.7525 16.1467 39.7293 14.7755 37.7541 14.7755C35.779 14.7755 34.5653 16.1467 34.5653 18.3926V25.4803H32.5664V13.1915H34.5653V15.1064C35.1603 13.9717 36.3739 12.9551 38.349 12.9551C40.0862 12.9551 41.514 13.7352 42.2517 15.4374C42.8466 14.1844 44.1793 12.9551 46.4637 12.9551C49.0338 12.9551 50.9376 14.5863 50.9376 18.246V25.4755H48.9386V18.3879C48.9386 16.1419 47.9154 14.7707 45.9402 14.7707C43.9651 14.7707 42.7514 16.1419 42.7514 18.3879V25.4755H40.7525V18.3879V18.3926Z"
              fill="white"
            />
            <path
              d="M62.7422 19.3374C62.7422 15.2238 65.9548 12.959 69.1626 12.959C72.3704 12.959 75.5829 15.2286 75.5829 19.3374C75.5829 23.4463 72.3704 25.7159 69.1626 25.7159C65.9548 25.7159 62.7422 23.4463 62.7422 19.3374ZM69.1626 23.9002C71.4471 23.9002 73.5888 22.2453 73.5888 19.3374C73.5888 16.4295 71.4471 14.7746 69.1626 14.7746C66.8781 14.7746 64.7364 16.4295 64.7364 19.3374C64.7364 22.2453 66.8781 23.9002 69.1626 23.9002Z"
              fill="white"
            />
            <path
              d="M77.7977 8.70508H79.7967V19.7172L85.7411 13.1969H88.1922L82.9854 18.8189L88.7633 25.481H86.4312L81.7194 20.1664L79.7919 22.2469V25.4857H77.793V8.70508H77.7977Z"
              fill="white"
            />
            <path
              d="M101.232 25.4813H99.2331V23.4718C98.5906 24.6539 97.2342 25.7177 95.0925 25.7177C92.4986 25.7177 90.2617 24.1101 90.2617 20.4268V13.1973H92.2607V20.1431C92.2607 22.6254 93.7361 23.9021 95.7112 23.9021C97.6863 23.9021 99.2331 22.6254 99.2331 20.1431V13.1973H101.232V25.4861V25.4813Z"
              fill="white"
            />
            <path
              d="M104.035 8.70508H106.034V25.481H104.035V8.70508Z"
              fill="white"
            />
            <path
              d="M112.773 38.2451H6.74878C3.02696 38.2451 0 35.2379 0 31.5404V6.70274C0 3.00523 3.02696 -0.00195312 6.74878 -0.00195312H112.773C116.495 -0.00195312 119.522 3.00523 119.522 6.70274V31.5404C119.522 35.2379 116.495 38.2451 112.773 38.2451ZM6.74878 0.584353C3.35535 0.584353 0.590161 3.33148 0.590161 6.70274V31.5404C0.590161 34.9116 3.35059 37.6588 6.74878 37.6588H112.773C116.167 37.6588 118.932 34.9164 118.932 31.5404V6.70274C118.932 3.33148 116.171 0.584353 112.773 0.584353H6.74878Z"
              fill="#3D2770"
            />
          </g>
        </g>
        <defs>
          <linearGradient
            id="paint0_linear_5708_1735"
            x1="87.6511"
            y1="12.6926"
            x2="115.369"
            y2="45.9458"
            gradientUnits="userSpaceOnUse"
          >
            <stop stop-color="#3D2770" />
            <stop offset="0.11" stop-color="#3B4086" />
            <stop offset="0.29" stop-color="#3965A6" />
            <stop offset="0.47" stop-color="#3882BF" />
            <stop offset="0.65" stop-color="#3697D1" />
            <stop offset="0.83" stop-color="#36A3DC" />
            <stop offset="1" stop-color="#36A8E0" />
          </linearGradient>
          <clipPath id="clip0_5708_1735">
            <rect width="120" height="38" fill="white" />
          </clipPath>
        </defs>
      </svg>
    </div>
      <ul class="flex flex-col gap-2 font-medium">
        <router-link to="/">
          <li
            :class="isActive('/') ? activeClasses : inactiveClasses"
            class="flex items-center p-2 rounded-lg group"
          >
            <svg
              class="flex-shrink-0 w-5 h-5 transition duration-75"
              aria-hidden="true"
              xmlns="http://www.w3.org/2000/svg"
              fill="currentColor"
              viewBox="0 0 18 18"
            >
              <path
                d="M6.143 0H1.857A1.857 1.857 0 0 0 0 1.857v4.286C0 7.169.831 8 1.857 8h4.286A1.857 1.857 0 0 0 8 6.143V1.857A1.857 1.857 0 0 0 6.143 0Zm10 0h-4.286A1.857 1.857 0 0 0 10 1.857v4.286C10 7.169 10.831 8 11.857 8h4.286A1.857 1.857 0 0 0 18 6.143V1.857A1.857 1.857 0 0 0 16.143 0Zm-10 10H1.857A1.857 1.857 0 0 0 0 11.857v4.286C0 17.169.831 18 1.857 18h4.286A1.857 1.857 0 0 0 8 16.143v-4.286A1.857 1.857 0 0 0 6.143 10Zm10 0h-4.286A1.857 1.857 0 0 0 10 11.857v4.286c0 1.026.831 1.857 1.857 1.857h4.286A1.857 1.857 0 0 0 18 16.143v-4.286A1.857 1.857 0 0 0 16.143 10Z"
              />
            </svg>
            <span class="ms-3">Genel Bakış</span>
          </li>
        </router-link>
        <router-link to="/tests">
          <li
            :class="isActive('/tests') ? activeClasses : inactiveClasses"
            class="flex items-center p-2 rounded-lg group"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="27"
              height="24"
              viewBox="0 0 27 24"
              fill="none"
            >
              <g clip-path="url(#clip0_5715_1779)">
                <path
                  d="M1.55078 3C1.55078 1.34531 2.74186 0 4.20684 0H10.847V6C10.847 6.82969 11.4405 7.5 12.175 7.5H17.4871V13.3922L13.8849 17.4609C13.4574 17.9438 13.1586 18.5438 13.0133 19.2047L12.2373 22.7156C12.1418 23.1469 12.1626 23.5969 12.2912 24.0047L4.20684 24C2.74186 24 1.55078 22.6547 1.55078 21V3ZM17.4871 6H12.175V0L17.4871 6ZM24.368 11.0484L24.9656 11.7234C25.613 12.4547 25.613 13.6406 24.9656 14.3766L23.7455 15.7547L20.7989 12.4266L22.019 11.0484C22.6665 10.3172 23.7164 10.3172 24.368 11.0484ZM14.4949 19.5469L19.8568 13.4906L22.8034 16.8187L17.4415 22.8703C17.2713 23.0625 17.0597 23.1984 16.8231 23.2641L14.3289 23.9672C14.1007 24.0328 13.8641 23.9578 13.6981 23.7703C13.5321 23.5828 13.4657 23.3156 13.5238 23.0578L14.1463 20.2406C14.2044 19.9781 14.3248 19.7344 14.4949 19.5422V19.5469Z"
                  fill="currentColor"
                />
              </g>
              <defs>
                <clipPath id="clip0_5715_1779">
                  <rect width="27" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>
            
            <span class="flex-1 ms-3 whitespace-nowrap">Testler</span>
          </li>
        </router-link>
        <router-link to="/trials">
          <li
            :class="isActive('/trials') ? activeClasses : inactiveClasses"
            class="flex items-center p-2 rounded-lg group"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <g clip-path="url(#clip0_5715_1769)">
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M21.4502 5.07016C20.9489 5.07016 20.4682 5.26928 20.1137 5.62372C19.7593 5.97817 19.5602 6.4589 19.5602 6.96016V8.22016H23.3402V6.96016C23.3402 6.4589 23.141 5.97817 22.7866 5.62372C22.4321 5.26928 21.9514 5.07016 21.4502 5.07016ZM23.3402 9.48016H19.5602V19.8752L21.4502 22.7102L23.3402 19.8752V9.48016ZM0.660156 2.55016V21.4502C0.660156 21.9514 0.859281 22.4321 1.21372 22.7866C1.56817 23.141 2.0489 23.3402 2.55016 23.3402H16.4102C16.9114 23.3402 17.3921 23.141 17.7466 22.7866C18.101 22.4321 18.3002 21.9514 18.3002 21.4502V2.55016C18.3002 2.0489 18.101 1.56817 17.7466 1.21372C17.3921 0.859281 16.9114 0.660156 16.4102 0.660156H2.55016C2.0489 0.660156 1.56817 0.859281 1.21372 1.21372C0.859281 1.56817 0.660156 2.0489 0.660156 2.55016ZM9.48016 6.33016C9.48016 6.16307 9.54653 6.00283 9.66468 5.88468C9.78283 5.76653 9.94307 5.70016 10.1102 5.70016H15.1502C15.3172 5.70016 15.4775 5.76653 15.5956 5.88468C15.7138 6.00283 15.7802 6.16307 15.7802 6.33016C15.7802 6.49724 15.7138 6.65749 15.5956 6.77563C15.4775 6.89378 15.3172 6.96016 15.1502 6.96016H10.1102C9.94307 6.96016 9.78283 6.89378 9.66468 6.77563C9.54653 6.65749 9.48016 6.49724 9.48016 6.33016ZM10.1102 8.22016C9.94307 8.22016 9.78283 8.28653 9.66468 8.40468C9.54653 8.52283 9.48016 8.68307 9.48016 8.85016C9.48016 9.01724 9.54653 9.17749 9.66468 9.29563C9.78283 9.41378 9.94307 9.48016 10.1102 9.48016H15.1502C15.3172 9.48016 15.4775 9.41378 15.5956 9.29563C15.7138 9.17749 15.7802 9.01724 15.7802 8.85016C15.7802 8.68307 15.7138 8.52283 15.5956 8.40468C15.4775 8.28653 15.3172 8.22016 15.1502 8.22016H10.1102ZM9.48016 14.5202C9.48016 14.3531 9.54653 14.1928 9.66468 14.0747C9.78283 13.9565 9.94307 13.8902 10.1102 13.8902H15.1502C15.3172 13.8902 15.4775 13.9565 15.5956 14.0747C15.7138 14.1928 15.7802 14.3531 15.7802 14.5202C15.7802 14.6872 15.7138 14.8475 15.5956 14.9656C15.4775 15.0838 15.3172 15.1502 15.1502 15.1502H10.1102C9.94307 15.1502 9.78283 15.0838 9.66468 14.9656C9.54653 14.8475 9.48016 14.6872 9.48016 14.5202ZM10.1102 16.4102C9.94307 16.4102 9.78283 16.4765 9.66468 16.5947C9.54653 16.7128 9.48016 16.8731 9.48016 17.0402C9.48016 17.2072 9.54653 17.3675 9.66468 17.4856C9.78283 17.6038 9.94307 17.6702 10.1102 17.6702H15.1502C15.3172 17.6702 15.4775 17.6038 15.5956 17.4856C15.7138 17.3675 15.7802 17.2072 15.7802 17.0402C15.7802 16.8731 15.7138 16.7128 15.5956 16.5947C15.4775 16.4765 15.3172 16.4102 15.1502 16.4102H10.1102ZM4.44016 14.5202V16.4102H6.33016V14.5202H4.44016ZM3.81016 13.2602H6.96016C7.12724 13.2602 7.28749 13.3265 7.40563 13.4447C7.52378 13.5628 7.59016 13.7231 7.59016 13.8902V17.0402C7.59016 17.2072 7.52378 17.3675 7.40563 17.4856C7.28749 17.6038 7.12724 17.6702 6.96016 17.6702H3.81016C3.64307 17.6702 3.48283 17.6038 3.36468 17.4856C3.24653 17.3675 3.18016 17.2072 3.18016 17.0402V13.8902C3.18016 13.7231 3.24653 13.5628 3.36468 13.4447C3.48283 13.3265 3.64307 13.2602 3.81016 13.2602ZM8.03557 6.77557C8.15033 6.65675 8.21383 6.49761 8.21239 6.33242C8.21096 6.16724 8.1447 6.00923 8.02789 5.89242C7.91108 5.77561 7.75307 5.70936 7.58789 5.70792C7.4227 5.70649 7.26357 5.76999 7.14475 5.88475L5.07016 7.95934L4.25557 7.14475C4.13675 7.02999 3.97761 6.96649 3.81242 6.96792C3.64724 6.96936 3.48923 7.03561 3.37242 7.15242C3.25561 7.26923 3.18936 7.42724 3.18792 7.59242C3.18649 7.75761 3.24999 7.91675 3.36475 8.03557L5.07016 9.74098L8.03557 6.77557Z"
                  fill="currentColor"
                />
              </g>
              <defs>
                <clipPath id="clip0_5715_1769">
                  <rect width="24" height="24" fill="white" />
                </clipPath>
              </defs>
            </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Denemeler</span>
          </li>
        </router-link>
        <router-link to="/messages">
          <li
            :class="isActive('/messages') ? activeClasses : inactiveClasses"
            class="flex items-center p-2 rounded-lg group"
          >
            <svg
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
            >
              <path
                d="M21.2308 3.69141H2.76923C1.2 3.69141 0 4.89141 0 6.46064V17.5376C0 19.1068 1.2 20.3068 2.76923 20.3068H21.2308C22.8 20.3068 24 19.1068 24 17.5376V6.46064C24 4.89141 22.8 3.69141 21.2308 3.69141ZM21.9692 17.9068L14.7692 12.7376L12 14.5837L9.13846 12.7376L2.03077 17.9068L7.84615 11.9068L0.738462 6.36833L12 12.4606L23.1692 6.46064L16.1538 11.9991L21.9692 17.9068Z"
                fill="currentColor"
              />
            </svg>
            <span class="flex-1 ms-3 whitespace-nowrap">Mesajlar</span>
          </li>
        </router-link>
      </ul>
    </div>
  </aside>
  <div></div>
</template>

<script setup>
import { useDark } from "@vueuse/core";
import { ref } from "vue";
import { useRoute } from "vue-router";

const isDarkMode = useDark();
const isSidebarOpen = ref(false);
const route = useRoute();

const toggleSidebar = () => {
  isSidebarOpen.value = !isSidebarOpen.value;
};

const isActive = (path) => {
  return route.path === path;
};

const activeClasses =
  "text-slate-200 dark:text-slate-200 dark:bg-sky-500 bg-violet-900";
const inactiveClasses =
  "text-violet-900 dark:text-slate-200 hover:bg-slate-200 dark:hover:bg-slate-800";
</script>
